{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7547927d36acb973cc54","webpack:///./index.js","webpack:///./lib/Logger.js"],"names":["module","exports","require","EMERGENCY","ALERT","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG","LEVEL_NONE","LEVEL_EMERGENCY","LEVEL_ALERT","LEVEL_CRITICAL","LEVEL_ERROR","LEVEL_WARNING","LEVEL_NOTICE","LEVEL_INFO","LEVEL_DEBUG","LEVEL_ALL","typeLevelMapping","Logger","config","level","adapters","appendLogId","contextDecorator","_level","_adapters","_appendLogId","_contextDecorator","_instanceContext","warn","warning","adapter","push","context","key","message","log","type","typeLevel","_getLevelByType","id","_genId","length","preparedContext","_prepareAndDecorateContext","_id","_prepareAndGetLog","forEach","originContext","additionalContext","Object","assign","hasIdPlaceholder","indexOf","replace","a","b","r","hasOwnProperty","Date","now","Math","floor","random"],"mappings":"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","file":"Logger.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Logger\"] = factory();\n\telse\n\t\troot[\"Logger\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7547927d36acb973cc54","module.exports = require('./lib/Logger');\n\n\n// WEBPACK FOOTER //\n// ./index.js","'use strict';\n\n// Define types\nexport const EMERGENCY = 'emergency';\nexport const ALERT = 'alert';\nexport const CRITICAL = 'critical';\nexport const ERROR = 'error';\nexport const WARNING = 'warning';\nexport const NOTICE = 'notice';\nexport const INFO = 'info';\nexport const DEBUG = 'debug';\n\n// Define levels\nexport const LEVEL_NONE = 0;\nexport const LEVEL_EMERGENCY = 1;\nexport const LEVEL_ALERT = 2;\nexport const LEVEL_CRITICAL = 4;\nexport const LEVEL_ERROR = 8;\nexport const LEVEL_WARNING = 16;\nexport const LEVEL_NOTICE = 32;\nexport const LEVEL_INFO = 64;\nexport const LEVEL_DEBUG = 128;\nexport const LEVEL_ALL = 255;\n\n// Define mapping between types and levels\nconst typeLevelMapping = {\n    [EMERGENCY]: LEVEL_EMERGENCY,\n    [ALERT]: LEVEL_ALERT,\n    [CRITICAL]: LEVEL_CRITICAL,\n    [ERROR]: LEVEL_ERROR,\n    [WARNING]: LEVEL_WARNING,\n    [NOTICE]: LEVEL_NOTICE,\n    [INFO]: LEVEL_INFO,\n    [DEBUG]: LEVEL_DEBUG\n};\n\n/**\n * Logger\n * Specification: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-3-logger-interface.md\n * @todo - implement flush\n * @param   config.level            Level to log (LEVEL_EMERGENCY, LEVEL_WARNING, LEVEL_DEBUG, etc)\n * @param   config.adapters         Array with adapters (functions or objects with a log method)\n * @param   config.appendLogId      True to automatically append the log id to the log (\" (ref: 000000000000)\")\n * @param   config.contextDecorator Function that decorates the context object, before every log call, and that returns the decorated result\n */\nclass Logger {\n    constructor({ level = LEVEL_ALL, adapters = [], appendLogId = false, contextDecorator} = config) {\n        this._level = level;\n        this._adapters = adapters;\n        this._appendLogId = appendLogId;\n        this._contextDecorator = contextDecorator;\n        this._instanceContext = {};\n\n        // create alias\n        this.warn = this.warning;\n    }\n\n    /**\n     * Public methods\n     */\n\n    /**\n     * addAdapter\n     * @param adapter\n     * @return {Logger}\n     */\n    addAdapter(adapter) {\n        this._adapters.push(adapter);\n        return this;\n    }\n\n    /**\n     * setInstanceContext\n     * @param context\n     */\n    setInstanceContext(context) {\n        for (var key in context) {\n            this._instanceContext[key] = context[key];\n        }\n    }\n\n    /**\n     * Public logging methods\n     */\n\n    emergency(message, context = {}) {\n        return this.log(EMERGENCY, message, context);\n    }\n\n    alert(message, context = {}) {\n        return this.log(ALERT, message, context);\n    }\n\n    critical(message, context = {}) {\n        return this.log(CRITICAL, message, context);\n    }\n\n    error(message, context = {}) {\n        return this.log(ERROR, message, context);\n    }\n\n    warning(message, context = {}) {\n        return this.log(WARNING, message, context);\n    }\n\n    notice(message, context = {}) {\n        return this.log(NOTICE, message, context);\n    }\n\n    info(message, context = {}) {\n        return this.log(INFO, message, context);\n    }\n\n    debug(message, context = {}) {\n        return this.log(DEBUG, message, context);\n    }\n\n    /**\n     * Log\n     * @param   string  Log type (error, warning, info, etc (check consts))\n     * @param   string  Log message, optional with placeholders to replace with context data\n     * @param   object  context data that will be used replace with placeholders in message\n     */\n    log(type, message, context = {}) {\n        const typeLevel = this._getLevelByType(type),\n            id = this._genId();\n\n        if (this._adapters.length && (this._level & typeLevel) > 0) {\n            const preparedContext = this._prepareAndDecorateContext(context, { _id: id }),\n                  log = this._prepareAndGetLog(message, preparedContext);\n\n            this._adapters.forEach(adapter => typeof adapter == 'function' ? adapter(type, log) : adapter.log(type, log));\n            return id;\n        }\n\n        return null;\n    }\n\n    /**\n     * Protected methods\n     */\n\n    _prepareAndDecorateContext(originContext, additionalContext = {}) {\n        let context = Object.assign(this._instanceContext, originContext, additionalContext);\n\n        if (this._contextDecorator) {\n            context = this._contextDecorator(context);\n        }\n\n        return context;\n    }\n\n    _prepareAndGetLog(message, context = {}) {\n        const hasIdPlaceholder = message.indexOf('{_id}') !== -1;\n\n        let log = message.replace(/{([^{}]*)}/g, function (a, b) {\n                const r = context[b];\n                return typeof r === 'string' || typeof r === 'number' ? r : a;\n            }\n        );\n\n        if (!hasIdPlaceholder && this._appendLogId) {\n            log += ' (ref: ' + context._id + ')';\n        }\n\n        return log;\n    }\n\n    _getLevelByType(type) {\n        return typeLevelMapping.hasOwnProperty(type) ? typeLevelMapping[type] : LEVEL_NONE;\n    }\n\n    _genId() {\n        return Date.now() + Math.floor((Math.random() * 9999) + 1);\n    }\n}\n\nexport default Logger\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Logger.js"],"sourceRoot":""}