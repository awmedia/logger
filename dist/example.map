{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap be8eb5eb2321de780cdb","webpack:///./example.js","webpack:///./lib/Logger.js","webpack:///./lib/ConsoleAdapter.js"],"names":["logger","level","appendLogId","adapters","contextDecorator","context","someProperty","info","eventId","debug","warning","warn","error","module","exports","EMERGENCY","ALERT","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG","LEVEL_NONE","LEVEL_EMERGENCY","LEVEL_ALERT","LEVEL_CRITICAL","LEVEL_ERROR","LEVEL_WARNING","LEVEL_NOTICE","LEVEL_INFO","LEVEL_DEBUG","LEVEL_ALL","typeLevelMapping","Logger","config","_level","hasOwnProperty","_adapters","_appendLogId","_contextDecorator","_instanceContext","adapter","push","key","message","log","type","typeLevel","_getLevelByType","id","_genId","length","preparedContext","_prepareAndDecorateContext","_id","_prepareAndGetLog","forEach","originContext","additionalContext","Object","assign","hasIdPlaceholder","indexOf","replace","a","b","r","Date","now","ConsoleAdapter","_levelToMethodMapping","console"],"mappings":"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","file":"example.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Logger\"] = factory();\n\telse\n\t\troot[\"Logger\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap be8eb5eb2321de780cdb","import Logger, { LEVEL_NONE, LEVEL_EMERGENCY, LEVEL_ALERT, LEVEL_CRITICAL, LEVEL_ERROR, LEVEL_WARNING, LEVEL_NOTICE, LEVEL_INFO, LEVEL_DEBUG, LEVEL_ALL } from './lib/Logger';\nimport ConsoleAdapter from './lib/ConsoleAdapter';\n\nconst logger = new Logger({\n    level: LEVEL_ALL,\n    appendLogId: true,\n    adapters: [new ConsoleAdapter],\n    contextDecorator: (context) => {\n        context.someProperty = 'someValue';\n        return context;\n    }\n});\n\nlogger.info('Test info event is triggered with event id: \"{eventId}\"', { eventId: 789 });\nlogger.debug('Test debug event is triggered with event id: \"{eventId}\"', { eventId: 791 });\nlogger.warning('Test warning event is triggered with event id: \"{eventId}\"', { eventId: 791 });\nlogger.warn('Test warning, through warn alias, event is triggered with event id: \"{eventId}\"', { eventId: 791 });\nlogger.error('Test error event is triggered with event id: \"{eventId}\"', { eventId: 790 });\n\nlogger.info('Info log with custom contextDecorator property of: \"someProperty\" with value: \"{someProperty}\"');\n\nmodule.exports = logger;\n\n\n\n// WEBPACK FOOTER //\n// ./example.js","'use strict';\n\n// Define types\nexport const EMERGENCY = 'emergency';\nexport const ALERT = 'alert';\nexport const CRITICAL = 'critical';\nexport const ERROR = 'error';\nexport const WARNING = 'warning';\nexport const NOTICE = 'notice';\nexport const INFO = 'info';\nexport const DEBUG = 'debug';\n\n// Define levels\nexport const LEVEL_NONE = 0;\nexport const LEVEL_EMERGENCY = 1;\nexport const LEVEL_ALERT = 2;\nexport const LEVEL_CRITICAL = 4;\nexport const LEVEL_ERROR = 8;\nexport const LEVEL_WARNING = 16;\nexport const LEVEL_NOTICE = 32;\nexport const LEVEL_INFO = 64;\nexport const LEVEL_DEBUG = 128;\nexport const LEVEL_ALL = 255;\n\n// Define mapping between types and levels\nconst typeLevelMapping = {\n    [EMERGENCY]: LEVEL_EMERGENCY,\n    [ALERT]: LEVEL_ALERT,\n    [CRITICAL]: LEVEL_CRITICAL,\n    [ERROR]: LEVEL_ERROR,\n    [WARNING]: LEVEL_WARNING,\n    [NOTICE]: LEVEL_NOTICE,\n    [INFO]: LEVEL_INFO,\n    [DEBUG]: LEVEL_DEBUG\n};\n\n/**\n * Logger\n * Specification: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-3-logger-interface.md\n * @todo - implement flush\n */\nclass Logger {\n    constructor(config) {\n        this._level = config.hasOwnProperty('level') ? config.level : LEVEL_ALL;\n        this._adapters = config.hasOwnProperty('adapters') && config.adapters.hasOwnProperty('length') ? config.adapters : [];\n        this._appendLogId = (config.appendLogId === true);\n        this._contextDecorator = config.hasOwnProperty('contextDecorator') ? config.contextDecorator : null;\n        this._instanceContext = {};\n\n        // create alias (console.log)\n        this.warn = this.warning;\n    }\n\n    /**\n     * Public methods\n     */\n\n    /**\n     * addAdapter\n     * @param adapter\n     * @return {Logger}\n     */\n    addAdapter(adapter) {\n        this._adapters.push(adapter);\n        return this;\n    }\n\n    /**\n     * setInstanceContext\n     * @param context\n     */\n    setInstanceContext(context) {\n        for (var key in context) {\n            this._instanceContext[key] = context[key];\n        }\n    }\n\n    /**\n     * Public logging methods\n     */\n\n    emergency(message, context = {}) {\n        return this.log(EMERGENCY, message, context);\n    }\n\n    alert(message, context = {}) {\n        return this.log(ALERT, message, context);\n    }\n\n    critical(message, context = {}) {\n        return this.log(CRITICAL, message, context);\n    }\n\n    error(message, context = {}) {\n        return this.log(ERROR, message, context);\n    }\n\n    warning(message, context = {}) {\n        return this.log(WARNING, message, context);\n    }\n\n    notice(message, context = {}) {\n        return this.log(NOTICE, message, context);\n    }\n\n    info(message, context = {}) {\n        return this.log(INFO, message, context);\n    }\n\n    debug(message, context = {}) {\n        return this.log(DEBUG, message, context);\n    }\n\n    log(type, message, context = {}) {\n        const typeLevel = this._getLevelByType(type),\n            id = this._genId();\n\n        if (this._adapters.length && (this._level & typeLevel) > 0) {``\n            const preparedContext = this._prepareAndDecorateContext(context, { _id: id }),\n                  log = this._prepareAndGetLog(message, preparedContext);\n\n            this._adapters.forEach(adapter => adapter.log(type, log));\n            return id;\n        }\n\n        return null;\n    }\n\n    /**\n     * Protected methods\n     */\n\n    _prepareAndDecorateContext(originContext, additionalContext = {}) {\n        let context = Object.assign(this._instanceContext, originContext, additionalContext);\n\n        if (this._contextDecorator) {\n            context = this._contextDecorator(context);\n        }\n\n        return context;\n    }\n\n    _prepareAndGetLog(message, context = {}) {\n        const hasIdPlaceholder = message.indexOf('{_id}') !== -1;\n\n        let log = message.replace(/{([^{}]*)}/g, function (a, b) {\n                const r = context[b];\n                return typeof r === 'string' || typeof r === 'number' ? r : a;\n            }\n        );\n\n        if (!hasIdPlaceholder && this._appendLogId) {\n            log += ' (ref: ' + context._id + ')';\n        }\n\n        return log;\n    }\n\n    _getLevelByType(type) {\n        return typeLevelMapping.hasOwnProperty(type) ? typeLevelMapping[type] : LEVEL_NONE;\n    }\n\n    _genId() {\n        return Date.now();\n    }\n}\n\nexport default Logger\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Logger.js","import { EMERGENCY, ALERT, CRITICAL, ERROR, WARNING, NOTICE, INFO, DEBUG } from './Logger'\n\n/**\n * ConsoleAdapter\n */\nexport default class ConsoleAdapter {\n    static _levelToMethodMapping = {\n        [EMERGENCY]: 'error',\n        [ALERT]: 'error',\n        [CRITICAL]: 'error',\n        [ERROR]: 'error',\n        [WARNING]: 'warn',\n        [NOTICE]: 'warn',\n        [INFO]: 'info',\n        [DEBUG]: 'log'\n    };\n\n    /**\n     * Public methods\n     */\n\n    log(level, message) {\n        if (level in ConsoleAdapter._levelToMethodMapping) {\n            console[ConsoleAdapter._levelToMethodMapping[level]](message);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ConsoleAdapter.js"],"sourceRoot":""}